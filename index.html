<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –î–µ—Å—è—Ç–∏–±–æ—Ä—å–µ</title>
    <style>
        :root {
            --bg: #1e1e2e;
            --primary: #f9ca24; /* –ñ–µ–ª—Ç—ã–π */
            --secondary: #6c5ce7; /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π */
            --success: #6ab04c; /* –ó–µ–ª–µ–Ω—ã–π */
            --danger: #eb4d4b; /* –ö—Ä–∞—Å–Ω—ã–π */
            --light: #f1f2f6;
        }

        body {
            font-family: 'Verdana', sans-serif;
            background: linear-gradient(135deg, #130f40, #30336b);
            color: white;
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- UI HEADER --- */
        header {
            width: 100%;
            padding: 15px;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-sizing: border-box;
        }
        .badge {
            background: rgba(255,255,255,0.15);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
        }

        #timer-line {
            width: 100%;
            height: 8px;
            background: #2d3436;
            position: relative;
        }
        #timer-fill {
            height: 100%;
            background: var(--success);
            width: 100%;
            transition: width 0.2s linear, background 0.5s;
        }

        /* --- –ò–ì–†–û–í–ê–Ø –ó–û–ù–ê --- */
        #game-stage {
            flex: 1;
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 10px;
        }
        
        .instruction {
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        /* --- –û–ë–©–ò–ï –°–¢–ò–õ–ò –î–õ–Ø –£–†–û–í–ù–ï–ô --- */
        .btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 4px 0 #4834d4;
            transition: transform 0.1s;
            margin: 5px;
        }
        .btn:active { transform: translateY(4px); box-shadow: none; }
        
        .grid { display: grid; gap: 10px; justify-content: center; }

        /* –£—Ä–æ–≤–µ–Ω—å 1: –ú–µ–º–æ—Ä–∏ */
        .memory-card {
            width: 70px; height: 70px;
            background: var(--light);
            border-radius: 8px;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
            font-size: 2rem;
        }
        .memory-card.closed { background: var(--secondary); color: transparent; }

        /* –£—Ä–æ–≤–µ–Ω—å 4: –°–∞–π–º–æ–Ω (–¶–≤–µ—Ç–∞) */
        .simon-pad {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px;
        }
        .simon-btn {
            width: 100px; height: 100px; border-radius: 15px;
            opacity: 0.6; cursor: pointer; border: 4px solid transparent;
        }
        .simon-btn.active { opacity: 1; transform: scale(0.95); border-color: white; }

        /* –£—Ä–æ–≤–µ–Ω—å 5: –¢–∞–π–º–∏–Ω–≥ */
        .timing-bar-bg {
            width: 300px; height: 40px; background: #444; border-radius: 20px; position: relative; overflow: hidden;
        }
        .timing-target {
            position: absolute; top:0; bottom:0; background: rgba(106, 176, 76, 0.5); border: 2px solid var(--success);
        }
        .timing-cursor {
            width: 10px; height: 100%; background: white; position: absolute; left: 0;
        }

        /* –£—Ä–æ–≤–µ–Ω—å 6: –ê–Ω–∞–≥—Ä–∞–º–º–∞ */
        .letter-box {
            display: flex; gap: 10px; margin-bottom: 20px; min-height: 50px;
        }
        .letter-slot {
            width: 40px; height: 40px; border-bottom: 2px solid white; 
            display: flex; align-items: center; justify-content: center; font-size: 1.5rem;
        }

        /* –£—Ä–æ–≤–µ–Ω—å 10: –ú—ç—à (–ö–ª–∏–∫–µ—Ä) */
        .power-bar {
            width: 50px; height: 200px; background: #333; border: 4px solid white; border-radius: 10px;
            position: relative; display: flex; align-items: flex-end;
        }
        .power-fill {
            width: 100%; background: linear-gradient(to top, var(--primary), var(--danger));
            transition: height 0.1s;
        }

        /* --- MODALS --- */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            display: none; flex-direction: column;
            justify-content: center; align-items: center; z-index: 100;
            text-align: center;
        }
        .gift-anim { font-size: 5rem; animation: bounce 1s infinite; }
        @keyframes bounce { 0%, 100% {transform:translateY(0);} 50% {transform:translateY(-20px);} }

        /* Footer Inventory */
        #inventory {
            height: 60px; width: 100%; background: rgba(255,255,255,0.05);
            display: flex; align-items: center; justify-content: center; gap: 10px;
        }
    </style>
</head>
<body>

    <div id="timer-line"><div id="timer-fill"></div></div>

    <header>
        <div class="badge">–£—Ä–æ–≤–µ–Ω—å <span id="lvl-disp">1</span>/10</div>
        <div class="badge">–û—á–∫–∏: <span id="score-disp">0</span></div>
    </header>

    <div id="game-stage">
        <!-- –ó–¥–µ—Å—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è –∏–≥—Ä–∞ -->
    </div>

    <div id="inventory"></div>

    <!-- –≠–ö–†–ê–ù–´ -->
    <div id="start-screen" class="modal" style="display: flex;">
        <h1 style="color:var(--primary)">–ì–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –î–µ—Å—è—Ç–∏–±–æ—Ä—å–µ üöÄ</h1>
        <p>10 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏—Å–ø—ã—Ç–∞–Ω–∏–π.</p>
        <p>–î–æ–∫–∞–∂–∏, —á—Ç–æ —Ç—ã –≥–æ—Ç–æ–≤ —Å—Ç–∞—Ç—å –ö–∞–ø–∏—Ç–∞–Ω–æ–º!</p>
        <button class="btn" onclick="game.start()">–ù–∞—á–∞—Ç—å –∏—Å–ø—ã—Ç–∞–Ω–∏–µ</button>
    </div>

    <div id="level-win-screen" class="modal">
        <h2>–£—Å–ø–µ—Ö!</h2>
        <div class="gift-anim" id="win-gift">üéÅ</div>
        <p>–¢—ã –ø–æ–ª—É—á–∏–ª –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å!</p>
        <button class="btn" onclick="game.nextLevel()">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
    </div>

    <div id="game-over-screen" class="modal">
        <h2 style="color:var(--danger)">–ü—Ä–æ–≤–∞–ª...</h2>
        <p>–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑!</p>
        <button class="btn" onclick="game.retry()">–†–µ—Å—Ç–∞—Ä—Ç —É—Ä–æ–≤–Ω—è</button>
    </div>

    <div id="victory-screen" class="modal">
        <h1 style="color: gold">üèÜ –õ–ï–ì–ï–ù–î–ê –ö–û–°–ú–û–°–ê! üèÜ</h1>
        <p>–¢—ã –ø—Ä–æ—à–µ–ª –≤—Å–µ 10 –∏—Å–ø—ã—Ç–∞–Ω–∏–π!</p>
        <p>–¢–≤–æ–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å—á–µ—Ç: <span id="final-score"></span></p>
        <button class="btn" onclick="location.reload()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
    </div>

    <script>
        const GIFTS = ['üß©', 'üîã', 'üî≠', 'üì°', 'üïπÔ∏è', 'üõ°Ô∏è', 'üíä', 'üîë', 'üíé', 'üëë'];
        
        const game = {
            level: 0,
            score: 0,
            timer: null,
            timeLeft: 0,
            isRunning: false,
            inventory: [],

            start() {
                document.getElementById('start-screen').style.display = 'none';
                this.loadLevel();
            },

            loadLevel() {
                const stage = document.getElementById('game-stage');
                stage.innerHTML = ''; // –û—á–∏—Å—Ç–∫–∞
                document.getElementById('lvl-disp').innerText = this.level + 1;
                
                this.isRunning = true;
                
                // –ó–ê–ü–£–°–ö –õ–û–ì–ò–ö–ò –ö–û–ù–ö–†–ï–¢–ù–û–ì–û –£–†–û–í–ù–Ø
                switch(this.level) {
                    case 0: levels.memory(); break;
                    case 1: levels.math(); break;
                    case 2: levels.clicker(); break;
                    case 3: levels.simon(); break;
                    case 4: levels.timing(); break;
                    case 5: levels.anagram(); break;
                    case 6: levels.oddOneOut(); break;
                    case 7: levels.counting(); break;
                    case 8: levels.higherLower(); break;
                    case 9: levels.mash(); break;
                }
            },

            startTimer(seconds) {
                clearInterval(this.timer);
                this.timeLeft = seconds;
                const maxTime = seconds;
                const bar = document.getElementById('timer-fill');
                
                bar.style.width = '100%';
                bar.style.background = '#6ab04c';

                this.timer = setInterval(() => {
                    if(!this.isRunning) return;
                    this.timeLeft -= 0.1;
                    
                    const pct = (this.timeLeft / maxTime) * 100;
                    bar.style.width = pct + '%';
                    
                    if(pct < 30) bar.style.background = '#eb4d4b';

                    if (this.timeLeft <= 0) {
                        this.lose();
                    }
                }, 100);
            },

            win() {
                this.isRunning = false;
                clearInterval(this.timer);
                this.score += Math.ceil(this.timeLeft * 10) + 100;
                document.getElementById('score-disp').innerText = this.score;
                
                const gift = GIFTS[this.level];
                this.inventory.push(gift);
                this.updateInventory();

                const screen = document.getElementById('level-win-screen');
                document.getElementById('win-gift').innerText = gift;
                screen.style.display = 'flex';
            },

            lose() {
                this.isRunning = false;
                clearInterval(this.timer);
                document.getElementById('game-over-screen').style.display = 'flex';
            },

            retry() {
                document.getElementById('game-over-screen').style.display = 'none';
                this.score = Math.max(0, this.score - 50);
                document.getElementById('score-disp').innerText = this.score;
                this.loadLevel();
            },

            nextLevel() {
                document.getElementById('level-win-screen').style.display = 'none';
                this.level++;
                if (this.level >= 10) {
                    document.getElementById('final-score').innerText = this.score;
                    document.getElementById('victory-screen').style.display = 'flex';
                } else {
                    this.loadLevel();
                }
            },

            updateInventory() {
                document.getElementById('inventory').innerHTML = this.inventory.map(i => `<span>${i}</span>`).join('');
            }
        };

        // –õ–û–ì–ò–ö–ê –£–†–û–í–ù–ï–ô
        const levels = {
            // 1. –ú–ï–ú–û–†–ò (–ü–∞–º—è—Ç—å)
            memory() {
                game.startTimer(20);
                const stage = document.getElementById('game-stage');
                stage.innerHTML = `<div class="instruction">–ù–∞–π–¥–∏ –ø–∞—Ä—ã!</div><div class="grid" style="grid-template-columns:repeat(4, 1fr)" id="mem-grid"></div>`;
                
                const icons = ['üöÄ','üëΩ','ü™ê','‚òÑÔ∏è','üöÄ','üëΩ','ü™ê','‚òÑÔ∏è'].sort(()=>Math.random()-0.5);
                let opened = [];
                let matched = 0;

                icons.forEach((icon, i) => {
                    const card = document.createElement('div');
                    card.className = 'memory-card closed';
                    card.innerText = icon;
                    card.onclick = () => {
                        if(card.classList.contains('matched') || opened.includes(card)) return;
                        card.classList.remove('closed');
                        opened.push(card);
                        if(opened.length === 2) {
                            if(opened[0].innerText === opened[1].innerText) {
                                opened.forEach(c => c.classList.add('matched'));
                                matched++;
                                opened = [];
                                if(matched === 4) game.win();
                            } else {
                                setTimeout(() => {
                                    opened.forEach(c => c.classList.add('closed'));
                                    opened = [];
                                }, 500);
                            }
                        }
                    };
                    document.getElementById('mem-grid').appendChild(card);
                });
            },

            // 2. –ú–ê–¢–ï–ú–ê–¢–ò–ö–ê (–°—á–µ—Ç)
            math() {
                game.startTimer(15);
                const n1 = Math.floor(Math.random()*20)+10;
                const n2 = Math.floor(Math.random()*9)+1;
                const ans = n1 - n2;
                
                let opts = [ans, ans+1, ans-1, ans+2].sort(()=>Math.random()-0.5);

                const stage = document.getElementById('game-stage');
                stage.innerHTML = `
                    <div class="instruction">–†–µ—à–∏ –ø—Ä–∏–º–µ—Ä –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —à–ª—é–∑—É:</div>
                    <h1 style="font-size:3rem; margin:20px">${n1} - ${n2} = ?</h1>
                    <div class="grid" style="grid-template-columns: 1fr 1fr">
                        ${opts.map(o => `<button class="btn" onclick="if(${o}==${ans}) game.win(); else game.timeLeft-=5">${o}</button>`).join('')}
                    </div>
                `;
            },

            // 3. –ö–õ–ò–ö–ï–† (–†–µ–∞–∫—Ü–∏—è)
            clicker() {
                game.startTimer(10);
                const stage = document.getElementById('game-stage');
                stage.innerHTML = `<div class="instruction">–£–Ω–∏—á—Ç–æ–∂—å 5 –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤!</div><div id="space-field" style="width:100%; height:300px; position:relative; border:1px dashed #555"></div>`;
                
                let count = 5;
                const spawn = () => {
                    if(count <= 0) return game.win();
                    const ast = document.createElement('div');
                    ast.innerText = 'ü™®';
                    ast.style.position = 'absolute';
                    ast.style.fontSize = '3rem';
                    ast.style.left = Math.random()*80 + '%';
                    ast.style.top = Math.random()*80 + '%';
                    ast.style.cursor = 'pointer';
                    ast.onclick = () => { ast.remove(); count--; spawn(); };
                    document.getElementById('space-field').appendChild(ast);
                };
                spawn();
            },

            // 4. –°–ê–ô–ú–û–ù (–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
            simon() {
                game.startTimer(20);
                const colors = ['#ff7675', '#74b9ff', '#55efc4', '#ffeaa7'];
                let sequence = [0, 2, 1, 3]; // –•–∞—Ä–¥–∫–æ–¥–Ω–∞—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã, –º–æ–∂–Ω–æ —Ä–∞–Ω–¥–æ–º–∏—Ç—å
                let step = 0;
                let userTurn = false;

                const stage = document.getElementById('game-stage');
                stage.innerHTML = `
                    <div class="instruction" id="simon-text">–ó–∞–ø–æ–º–Ω–∏ –ø–æ—Ä—è–¥–æ–∫!</div>
                    <div class="simon-pad">
                        ${colors.map((c,i) => `<div class="simon-btn" id="sb-${i}" style="background:${c}" onclick="levels.checkSimon(${i})"></div>`).join('')}
                    </div>
                `;

                // –ü–æ–∫–∞–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                let i = 0;
                const interval = setInterval(() => {
                    if(i >= sequence.length) {
                        clearInterval(interval);
                        document.getElementById('simon-text').innerText = "–ü–æ–≤—Ç–æ—Ä–∏!";
                        userTurn = true;
                        return;
                    }
                    const id = sequence[i];
                    const btn = document.getElementById(`sb-${id}`);
                    btn.classList.add('active');
                    setTimeout(() => btn.classList.remove('active'), 400);
                    i++;
                }, 800);
                
                levels.checkSimon = (id) => {
                    if(!userTurn) return;
                    const btn = document.getElementById(`sb-${id}`);
                    btn.classList.add('active');
                    setTimeout(() => btn.classList.remove('active'), 100);
                    
                    if(id === sequence[step]) {
                        step++;
                        if(step === sequence.length) game.win();
                    } else {
                        game.lose();
                    }
                }
            },

            // 5. –¢–ê–ô–ú–ò–ù–ì (–õ–æ–≤–∫–æ—Å—Ç—å)
            timing() {
                game.startTimer(10);
                const stage = document.getElementById('game-stage');
                stage.innerHTML = `
                    <div class="instruction">–û—Å—Ç–∞–Ω–æ–≤–∏ –∫—É—Ä—Å–æ—Ä –≤ –∑–µ–ª–µ–Ω–æ–π –∑–æ–Ω–µ!</div>
                    <div class="timing-bar-bg">
                        <div class="timing-target" style="left: 60%; width: 20%"></div>
                        <div class="timing-cursor" id="t-cursor"></div>
                    </div>
                    <button class="btn" style="margin-top:30px; font-size:2rem" onclick="levels.checkTiming()">–°–¢–û–ü</button>
                `;
                
                const cursor = document.getElementById('t-cursor');
                let pos = 0;
                let dir = 1;
                levels.timingInt = setInterval(() => {
                    pos += 2 * dir;
                    if(pos > 95 || pos < 0) dir *= -1;
                    cursor.style.left = pos + '%';
                }, 16);

                levels.checkTiming = () => {
                    clearInterval(levels.timingInt);
                    // –¶–µ–ª—å –æ—Ç 60 –¥–æ 80
                    if(pos >= 60 && pos <= 80) game.win();
                    else game.lose();
                }
            },

            // 6. –ê–ù–ê–ì–†–ê–ú–ú–ê (–°–ª–æ–≤–∞)
            anagram() {
                game.startTimer(30);
                const word = "–°–ê–¢–£–†–ù";
                const shuffled = word.split('').sort(()=>Math.random()-0.5);
                let current = "";

                const stage = document.getElementById('game-stage');
                stage.innerHTML = `
                    <div class="instruction">–°–æ–±–µ—Ä–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–µ—Ç—ã</div>
                    <div class="letter-box" id="l-box"></div>
                    <div class="grid" style="grid-template-columns:repeat(3, 1fr)">
                        ${shuffled.map(l => `<button class="btn" onclick="levels.addLetter('${l}', this)">${l}</button>`).join('')}
                    </div>
                    <button class="btn" style="background:var(--danger); margin-top:10px" onclick="levels.anagram()">–°–±—Ä–æ—Å</button>
                `;

                levels.addLetter = (l, btn) => {
                    if(btn.disabled) return;
                    current += l;
                    btn.disabled = true;
                    btn.style.opacity = 0.5;
                    
                    const box = document.getElementById('l-box');
                    const slot = document.createElement('div');
                    slot.className = 'letter-slot';
                    slot.innerText = l;
                    box.appendChild(slot);

                    if(current.length === word.length) {
                        if(current === word) game.win();
                        else {
                            stage.style.animation = 'shake 0.5s';
                            setTimeout(() => levels.anagram(), 500);
                        }
                    }
                }
            },

            // 7. –ù–ê–ô–î–ò –õ–ò–®–ù–ï–ï (–í–Ω–∏–º–∞–Ω–∏–µ)
            oddOneOut() {
                game.startTimer(15);
                const stage = document.getElementById('game-stage');
                stage.innerHTML = `<div class="instruction">–ù–∞–π–¥–∏ —Ä–æ–±–æ—Ç–∞-—à–ø–∏–æ–Ω–∞!</div><div class="grid" style="grid-template-columns:repeat(5, 1fr)" id="odd-grid"></div>`;
                
                const correct = Math.floor(Math.random() * 20);
                for(let i=0; i<20; i++) {
                    const btn = document.createElement('div');
                    btn.style.fontSize = '2.5rem';
                    btn.style.cursor = 'pointer';
                    // –û–±—ã—á–Ω—ã–π —Ä–æ–±–æ—Ç vs –®–ø–∏–æ–Ω
                    btn.innerText = (i === correct) ? 'üëæ' : 'ü§ñ'; 
                    btn.onclick = () => {
                        if(i === correct) game.win();
                        else {
                            btn.innerText = '‚ùå';
                            game.timeLeft -= 3;
                        }
                    };
                    document.getElementById('odd-grid').appendChild(btn);
                }
            },

            // 8. –ü–û–î–°–ß–ï–¢ (–í–Ω–∏–º–∞–Ω–∏–µ)
            counting() {
                game.startTimer(20);
                const starsCount = Math.floor(Math.random() * 5) + 3; // 3-7
                const moonsCount = Math.floor(Math.random() * 5) + 3; 
                
                let items = [];
                for(let i=0; i<starsCount; i++) items.push('‚≠ê');
                for(let i=0; i<moonsCount; i++) items.push('üåô');
                items.sort(()=>Math.random()-0.5);

                const stage = document.getElementById('game-stage');
                stage.innerHTML = `
                    <div class="instruction">–°–∫–æ–ª—å–∫–æ –ó–í–ï–ó–î ‚≠ê –Ω–∞ —ç–∫—Ä–∞–Ω–µ?</div>
                    <div style="font-size:2rem; letter-spacing:5px; margin:20px; text-align:center; width:80%">${items.join(' ')}</div>
                    <div class="grid" style="grid-template-columns:repeat(4, 1fr)">
                        <button class="btn" onclick="levels.checkCount(${starsCount-1})">${starsCount-1}</button>
                        <button class="btn" onclick="levels.checkCount(${starsCount})">${starsCount}</button>
                        <button class="btn" onclick="levels.checkCount(${starsCount+1})">${starsCount+1}</button>
                        <button class="btn" onclick="levels.checkCount(${starsCount+2})">${starsCount+2}</button>
                    </div>
                `;

                levels.checkCount = (val) => {
                    if(val === starsCount) game.win();
                    else game.lose();
                }
            },

            // 9. –ë–û–õ–¨–®–ï-–ú–ï–ù–¨–®–ï (–õ–æ–≥–∏–∫–∞)
            higherLower() {
                game.startTimer(40);
                const target = Math.floor(Math.random() * 50) + 1;
                
                const stage = document.getElementById('game-stage');
                stage.innerHTML = `
                    <div class="instruction">–£–≥–∞–¥–∞–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É (1-50)</div>
                    <div id="hl-msg" style="font-size:2rem; color:var(--primary); margin:20px">?</div>
                    <div id="hl-opts" class="grid" style="grid-template-columns:repeat(5, 1fr); max-height:200px; overflow-y:auto"></div>
                `;

                const grid = document.getElementById('hl-opts');
                for(let i=1; i<=50; i++) {
                    const btn = document.createElement('button');
                    btn.className = 'btn';
                    btn.style.padding = '10px';
                    btn.innerText = i;
                    btn.onclick = () => {
                        if(i === target) game.win();
                        else {
                            btn.disabled = true;
                            btn.style.opacity = 0.3;
                            document.getElementById('hl-msg').innerText = i < target ? "–ë–æ–ª—å—à–µ!" : "–ú–µ–Ω—å—à–µ!";
                        }
                    };
                    grid.appendChild(btn);
                }
            },

            // 10. –ú–≠–® (–§–∏–Ω–∞–ª—å–Ω–∞—è —Å–∏–ª–∞)
            mash() {
                game.startTimer(15);
                const stage = document.getElementById('game-stage');
                stage.innerHTML = `
                    <div class="instruction">–ñ–º–∏ –ö–†–ê–°–ù–£–Æ –ö–ù–û–ü–ö–£, —á—Ç–æ–±—ã –∑–∞—Ä—è–¥–∏—Ç—å –ª–∞–∑–µ—Ä!</div>
                    <div class="power-bar"><div class="power-fill" id="p-fill" style="height:0%"></div></div>
                    <button class="btn" style="background:var(--danger); width:100px; height:100px; border-radius:50%; margin-top:20px; font-size:1.5rem; border:5px solid white" onclick="levels.powerUp()">üî•</button>
                `;

                let power = 0;
                levels.powerUp = () => {
                    power += 10; // –ö–ª–∏–∫ –¥–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é
                    if(power >= 100) game.win();
                };
                
                // –≠–Ω–µ—Ä–≥–∏—è –ø–∞–¥–∞–µ—Ç —Å–∞–º–∞
                levels.mashInt = setInterval(() => {
                    if(!game.isRunning) return clearInterval(levels.mashInt);
                    if(power > 0) power -= 2; 
                    document.getElementById('p-fill').style.height = power + '%';
                }, 100);
            }
        };
    </script>
</body>
</html>
